<div class="beautify">
    <!--icons-->
    <div class="col-xs-12 row-div-mini">
        <toggle value="showHelp" icon="'fa-question'"></toggle>
        <toggle value="hideSideBars" icon="'fa-window-maximize'"></toggle>
        <span class="btn-group">
            <a class="btn btn-default" ng-click="resetStore()"><span class="fa fa-refresh red"></span></a>
            <a class="btn btn-default" ng-click="restoreStore()" ng-if="showRestoreStore"><span class="fa fa-undo"></span></a>
        </span>
    </div>

    <div class="col-xs-12" ng-if="showHelp">
        <br/>This is a Json Beuatifier.
        <br/>Across the top left corner are the show help toggle, hide left & and right sidebars toggle, reset saved data button, and undo reset saved data buttons.
        <br/>Along the left sidebar are the sessions. You can create (+), select (click), trash (x) and rename (doube click) sessions.
        <br/>Acrosss the top are the tabs for the currently active session. You can create (+), select (click), trash (x) and rename (doube click) tabs. A new tab will be automatically created if the last tab is used. 
        <br/>Along the right sidebar are the trashed tabs for the currently selected session. You can preview (hover) and restore (click) trashed tabs. To permanently delete all trashed tabs for the currently selected session, click the trash icon at the top of the right sidebar.
        <br/>Note, there is currently no way to retrieve deleted sessions.
        <br/>In left giant box, input the unformatted Json(s). This supports comments, multiple Json objects, and some invalid Json tolerance.
        <br/>In the right giant box, the formatted Json will output. Click to select the entire output, or drag select to select a subset.
        <br/>At the bottom will be a 1-line form of the Json output. Click to select the entire output, or drag select to select a subset.
    </div>

    <div class="col-xs-12 row-div high-row">
        <!--pairs tabs-->
        <tab class="col-xs-12 col-xs-offset-1" ng-class="{'col-xs-10':!hideSideBars, 'col-xs-offset-0':hideSideBars}" tabs="sessions[sessionSelected.x].pairs" selected="pairSelected" add-tab-callback="addPairCallback" close-tab-callback="closePairCallback" edit-tab-name-callback="editTabNameCallback"></tab>

        <!--trash icon-->
        <div class="col-xs-1 header-text" ng-if="!hideSideBars">
            <a class="btn btn-default" ng-click="clearTrashedPairs()" ng-if="sessions[sessionSelected.x].trashedPairs.length"><span class="fa fa-trash-o fa-2x"></span></span></a>
        </div>
    </div>

    <div class="col-xs-12 row-div">
        <!--sessions-->
        <div class="col-xs-1" ng-if="!hideSideBars">
            <div class="row">
                <tab class="row" tabs="sessions" selected="sessionSelected.x" vertical="true" select-tab-callback="selectSessionCallback" add-tab-callback="addSessionCallback" close-tab-callback="closeSessionCallback" edit-tab-name-callback="editTabNameCallback"></tab>
            </div>
        </div>

        <!--raw-->
        <div class="col-xs-6" ng-class="{'col-xs-5':!hideSideBars}">
            <textarea ng-model="sessions[sessionSelected.x].pairs[pairSelected].raw" ng-change="updateInput()"></textarea>
        </div>

        <!--pretty-->
        <div class="col-xs-6" ng-class="{'col-xs-5':!hideSideBars}">
            <pre ng-click="selectAll($event)">{{sessions[sessionSelected.x].pairs[pairSelected].pretty}}</pre>
        </div>

        <!--trashed-->
        <div class="col-xs-1" ng-if="!hideSideBars">
            <a class="btn btn-danger col-xs-12" ng-repeat="trashedPair in sessions[sessionSelected.x].trashedPairs track by $index" ng-mouseover="setTrashPreview(trashedPair)" ng-mouseleave="setTrashPreview()" ng-click="restoreTrashedPair($index)">{{trashedPair.tabName}}</a>
            <div>{{trashPreview}}</div>
        </div>
    </div>

    <!--one liner output-->
    <div class="col-xs-12 row-div">
        <div class="col-xs-12" ng-click="selectAll($event)">{{sessions[sessionSelected.x].pairs[pairSelected].pretty}}</div>
    </div>
</div>